{% include 'header.html.twig' %}

<div class="breadcrumbs">
    <a href="/">Home</a> &nbsp;&#47;&nbsp; 
</div>

<div class="container">
    <div class="main">
        <h1>Featured Content</h1>
        <p>Your main content goes here.</p>
    </div>

    <div class="sidebar">
        {% for post in posts|slice(0, 5) %}
            <div class="sidebar-item post-{{ post.id }}">
                <div class="two-line">
                    {{ post.name }}
                </div>
                <div class="banner thumbnail" style="background-image: url('{{ post.banner }}')"></div>

                <div class="one-line">
                {% set parts = post.longText|split('&nbsp;') %} <!-- creates the firstPart variable -->
                {% set firstPart = parts[0]|striptags|raw %}    <!-- which it fills up with post longText data before a nbsp -->
                {{ firstPart }} <!-- displays that data -->
            </div>

        </div>
        {% endfor %}
    </div>
</div>

{% include 'footer.html.twig' %}

<script>
    // JavaScript to handle click events on sidebar items
    document.addEventListener('DOMContentLoaded', function() {
        const sidebarItems = document.querySelectorAll('.sidebar-item');

        sidebarItems.forEach(item => {
            item.addEventListener('click', function() {
                // Extract the post ID from the class name
                const postId = this.classList[1].split('-')[1];

                // Redirect the user to the post page based on the post ID
                window.location.href = '/post/' + postId; // Replace with your post URL
            });
        });
    });
</script>
